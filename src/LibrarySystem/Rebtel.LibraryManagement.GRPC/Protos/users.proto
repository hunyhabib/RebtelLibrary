syntax = "proto3";

option csharp_namespace = "Rebtel.LibraryManagement.GRPC";

package users;

import "google/protobuf/timestamp.proto";

// The users service definition.
service UsersService {
  // Gets the most borrowing users within a date range
  rpc GetMostBorrowingUsers (GetMostBorrowingUsersRequest) returns (GetMostBorrowingUsersResponse);
}

// Request message for getting most borrowing users
message GetMostBorrowingUsersRequest {
  google.protobuf.Timestamp start_time = 1;
  google.protobuf.Timestamp end_time = 2;
  int32 users_count = 3; // Optional, defaults to 3 if not specified
}

// Response message containing the list of most borrowing users
message GetMostBorrowingUsersResponse {
  repeated UserDto users = 1;
}

// User data transfer object
message UserDto {
  string id = 1;
  string name = 2;
  string email = 3;
  string phone_number = 4;
  google.protobuf.Timestamp membership_date = 5;
  int32 loans_count = 6; // Number of loans in the specified period
}